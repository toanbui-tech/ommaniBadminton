<!doctype html>
<html lang="vi">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Noel C·∫ßu L√¥ng - Red Christmas</title>
        <link
            href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap"
            rel="stylesheet"
        />
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: "Poppins", sans-serif;
                background: linear-gradient(
                    135deg,
                    #1a0a0a 0%,
                    #2d0a0a 50%,
                    #1f0505 100%
                );
                min-height: 100vh;
                overflow-x: hidden;
                color: #fff;
            }

            @keyframes snowfall {
                0% {
                    top: -10px;
                    opacity: 0.8;
                }
                90% {
                    opacity: 0.8;
                }
                100% {
                    top: 100vh;
                    opacity: 0;
                }
            }

            @keyframes glow {
                0%,
                100% {
                    filter: drop-shadow(0 0 5px rgba(255, 215, 0, 0.5));
                }
                50% {
                    filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.8));
                }
            }

            @keyframes sparkle {
                0%,
                100% {
                    opacity: 0.3;
                }
                50% {
                    opacity: 1;
                }
            }

            @keyframes pulse {
                0%,
                100% {
                    transform: scale(1);
                }
                50% {
                    transform: scale(1.05);
                }
            }

            @keyframes zoomIn {
                from {
                    transform: scale(0.8);
                    opacity: 0;
                }
                to {
                    transform: scale(1);
                    opacity: 1;
                }
            }

            @keyframes bounce {
                0%,
                100% {
                    transform: translateY(0);
                }
                50% {
                    transform: translateY(-20px);
                }
            }

            @keyframes shake {
                0%,
                100% {
                    transform: translateX(0);
                }
                25% {
                    transform: translateX(-5px);
                }
                75% {
                    transform: translateX(5px);
                }
            }

            @keyframes slideDown {
                from {
                    opacity: 0;
                    transform: translateY(-30px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            @keyframes heartbeat {
                0%,
                100% {
                    transform: scale(1);
                }
                25% {
                    transform: scale(1.1);
                }
                50% {
                    transform: scale(1);
                }
            }

            @keyframes openGift {
                0% {
                    transform: rotateX(0deg) rotateY(0deg);
                }
                50% {
                    transform: rotateX(20deg) rotateY(-10deg);
                }
                100% {
                    transform: rotateX(45deg) rotateY(0deg);
                }
            }

            @keyframes slideInLeft {
                from {
                    opacity: 0;
                    transform: translateX(-50px);
                }
                to {
                    opacity: 1;
                    transform: translateX(0);
                }
            }

            .snowflake {
                position: fixed;
                top: -10px;
                z-index: 1;
                user-select: none;
                pointer-events: none;
                font-size: 1.5em;
                color: rgba(255, 255, 255, 0.8);
                animation: snowfall linear infinite;
            }

            .screen {
                display: none;
                width: 100%;
                min-height: 100vh;
                position: absolute;
                top: 0;
                left: 0;
            }

            .screen.active {
                display: flex;
            }

            /* Intro Screen */
            #introScreen {
                flex-direction: column;
                align-items: center;
                justify-content: center;
                background: linear-gradient(
                    135deg,
                    #1a0a0a 0%,
                    #4d1111 50%,
                    #1f0505 100%
                );
                padding: 20px;
                animation: slideDown 0.8s ease-out;
            }

            .logo-container {
                text-align: center;
                margin-bottom: 40px;
                animation: zoomIn 1s ease-out;
            }

            .logo-text {
                font-size: 4em;
                font-weight: 800;
                background: linear-gradient(
                    135deg,
                    #ffd700 0%,
                    #ffa500 50%,
                    #ff4444 100%
                );
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
                margin-bottom: 20px;
                animation: glow 2s ease-in-out infinite;
            }

            .logo-subtitle {
                font-size: 1.5em;
                color: #ffd700;
                margin-bottom: 10px;
                animation: sparkle 2s ease-in-out infinite;
            }

            .logo-description {
                font-size: 1.1em;
                color: rgba(255, 255, 255, 0.9);
                margin-bottom: 50px;
                max-width: 500px;
                line-height: 1.6;
                letter-spacing: 0.5px;
            }

            .start-btn {
                padding: 16px 50px;
                font-size: 1.2em;
                font-weight: 700;
                background: linear-gradient(135deg, #ff4444 0%, #cc0000 100%);
                color: white;
                border: 3px solid #ffd700;
                border-radius: 50px;
                cursor: pointer;
                transition: all 0.3s ease;
                box-shadow: 0 10px 30px rgba(255, 68, 68, 0.4);
                animation: pulse 2s ease-in-out infinite;
            }

            .start-btn:hover {
                transform: scale(1.08);
                box-shadow: 0 15px 40px rgba(255, 215, 0, 0.6);
                background: linear-gradient(135deg, #ff6666 0%, #ff0000 100%);
            }

            /* Quiz Screen */
            #quizScreen {
                flex-direction: column;
                align-items: center;
                justify-content: center;
                padding: 40px 20px;
                background: linear-gradient(
                    135deg,
                    #1a0a0a 0%,
                    #4d1111 50%,
                    #1f0505 100%
                );
            }

            .quiz-container {
                background: rgba(0, 0, 0, 0.5);
                backdrop-filter: blur(10px);
                border: 2px solid #ffd700;
                border-radius: 20px;
                padding: 40px;
                max-width: 700px;
                width: 100%;
                animation: slideDown 0.6s ease-out;
            }

            .progress-bar {
                width: 100%;
                height: 8px;
                background: rgba(255, 255, 255, 0.2);
                border-radius: 10px;
                margin-bottom: 30px;
                overflow: hidden;
                border: 1px solid #ffd700;
            }

            .progress-fill {
                height: 100%;
                background: linear-gradient(90deg, #ff4444 0%, #ffd700 100%);
                transition: width 0.3s ease;
                box-shadow: 0 0 10px rgba(255, 215, 0, 0.6);
            }

            .question-text {
                font-size: 1.5em;
                font-weight: 700;
                margin-bottom: 30px;
                color: #ffd700;
                text-align: center;
                line-height: 1.6;
            }

            .options-container {
                display: grid;
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .option-btn {
                padding: 15px 20px;
                font-size: 1.1em;
                font-weight: 600;
                background: rgba(255, 255, 255, 0.1);
                color: white;
                border: 2px solid rgba(255, 215, 0, 0.5);
                border-radius: 12px;
                cursor: pointer;
                transition: all 0.3s ease;
                text-align: left;
            }

            .option-btn:hover {
                background: rgba(255, 215, 0, 0.2);
                border-color: #ffd700;
                transform: translateX(10px);
            }

            .option-btn.correct {
                animation: heartbeat 0.6s ease;
                background: linear-gradient(135deg, #44ff44 0%, #00cc00 100%);
                border-color: #00ff00;
                color: white;
            }

            .option-btn.incorrect {
                animation: shake 0.4s ease;
                background: linear-gradient(135deg, #ff6666 0%, #cc0000 100%);
                border-color: #ff0000;
            }

            .quiz-counter {
                text-align: center;
                margin-top: 30px;
                color: rgba(255, 215, 0, 0.8);
                font-size: 1.1em;
                font-weight: 600;
            }

            /* Gift Screen */
            #giftScreen {
                flex-direction: column;
                align-items: center;
                justify-content: center;
                padding: 40px 20px;
                background: linear-gradient(
                    135deg,
                    #1a0a0a 0%,
                    #4d1111 50%,
                    #1f0505 100%
                );
                min-height: 100vh;
            }

            .gift-container {
                text-align: center;
                animation: zoomIn 0.6s ease-out;
            }

            .gift-title {
                font-size: 2.5em;
                font-weight: 800;
                color: #ffd700;
                margin-bottom: 30px;
                animation: glow 2s ease-in-out infinite;
            }

            .gift-box {
                width: 200px;
                height: 200px;
                margin: 30px auto;
                background: linear-gradient(135deg, #ff4444 0%, #cc0000 100%);
                border: 4px solid #ffd700;
                border-radius: 20px;
                position: relative;
                cursor: pointer;
                animation: bounce 1.5s ease-in-out infinite;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 5em;
                transition: all 0.3s ease;
                box-shadow: 0 20px 50px rgba(255, 68, 68, 0.5);
            }

            .gift-box:hover {
                transform: scale(1.1);
                box-shadow: 0 30px 70px rgba(255, 215, 0, 0.6);
            }

            .gift-box.opened {
                animation: openGift 0.8s ease-out;
                background: linear-gradient(135deg, #ffd700 0%, #ffa500 100%);
            }

            .gift-content {
                display: none;
                text-align: center;
                animation: zoomIn 0.8s ease-out;
            }

            .gift-content.show {
                display: block;
            }

            .gift-image {
                width: 300px;
                height: 300px;
                margin: 20px auto;
                background: rgba(255, 255, 255, 0.1);
                border: 3px solid #ffd700;
                border-radius: 15px;
                display: flex;
                align-items: center;
                justify-content: center;
                animation: zoomIn 0.8s ease-out;
                box-shadow: 0 10px 40px rgba(255, 215, 0, 0.3);
                object-fit: cover;
                overflow: hidden;
            }

            .gift-image img {
                width: 100%;
                height: 100%;
                object-fit: cover;
                border-radius: 12px;
            }

            .gift-description {
                font-size: 1.3em;
                color: #ffd700;
                margin-top: 20px;
                font-weight: 700;
            }

            .gift-tagline {
                font-size: 1em;
                color: rgba(255, 255, 255, 0.8);
                margin-top: 10px;
                font-style: italic;
            }

            .next-btn {
                padding: 14px 40px;
                margin-top: 30px;
                font-size: 1.1em;
                font-weight: 700;
                background: linear-gradient(135deg, #ff4444 0%, #cc0000 100%);
                color: white;
                border: 2px solid #ffd700;
                border-radius: 50px;
                cursor: pointer;
                transition: all 0.3s ease;
                box-shadow: 0 10px 30px rgba(255, 68, 68, 0.4);
            }

            .next-btn:hover {
                transform: scale(1.08);
                box-shadow: 0 15px 40px rgba(255, 215, 0, 0.6);
            }

            /* Warning Screen */
            #warningScreen {
                flex-direction: column;
                align-items: center;
                justify-content: center;
                padding: 40px 20px;
                background: linear-gradient(
                    135deg,
                    #1a0a0a 0%,
                    #4d1111 50%,
                    #1f0505 100%
                );
                animation: slideDown 0.6s ease-out;
            }

            .warning-container {
                background: rgba(0, 0, 0, 0.6);
                backdrop-filter: blur(10px);
                border: 3px solid #ffd700;
                border-radius: 20px;
                padding: 50px;
                max-width: 600px;
                text-align: center;
            }

            .warning-title {
                font-size: 2.5em;
                font-weight: 800;
                color: #ff4444;
                margin-bottom: 30px;
                animation: glow 1.5s ease-in-out infinite;
            }

            .warning-text {
                font-size: 1.3em;
                color: rgba(255, 255, 255, 0.9);
                margin-bottom: 20px;
                line-height: 1.8;
            }

            .warning-question {
                font-size: 1.5em;
                color: #ffd700;
                font-weight: 700;
                margin: 30px 0;
            }

            .warning-buttons {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 20px;
                margin-top: 30px;
            }

            .warning-btn {
                padding: 15px 30px;
                font-size: 1.1em;
                font-weight: 700;
                border: 2px solid #ffd700;
                border-radius: 50px;
                cursor: pointer;
                transition: all 0.3s ease;
            }

            .btn-continue {
                background: linear-gradient(135deg, #44ff44 0%, #00cc00 100%);
                color: white;
            }

            .btn-continue:hover {
                transform: scale(1.08);
                box-shadow: 0 10px 30px rgba(68, 255, 68, 0.4);
            }

            .btn-stop {
                background: linear-gradient(135deg, #ff6666 0%, #cc0000 100%);
                color: white;
            }

            .btn-stop:hover {
                transform: scale(1.08);
                box-shadow: 0 10px 30px rgba(255, 68, 68, 0.4);
            }

            /* Final Reward Screen */
            #finalRewardScreen {
                flex-direction: column;
                align-items: center;
                justify-content: center;
                padding: 40px 20px;
                background: linear-gradient(
                    135deg,
                    #1a0a0a 0%,
                    #4d1111 50%,
                    #1f0505 100%
                );
                min-height: 100vh;
            }

            .finale-title {
                font-size: 3em;
                font-weight: 800;
                background: linear-gradient(
                    135deg,
                    #ffd700 0%,
                    #ffa500 50%,
                    #ff4444 100%
                );
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
                margin-bottom: 40px;
                text-align: center;
                animation: glow 2s ease-in-out infinite;
            }

            .finale-subtitle {
                font-size: 1.8em;
                color: #ffd700;
                margin-bottom: 40px;
                animation: sparkle 2s ease-in-out infinite;
            }

            .epic-gift-box {
                width: 280px;
                height: 280px;
                background: linear-gradient(135deg, #ff4444 0%, #cc0000 100%);
                border: 5px solid #ffd700;
                border-radius: 25px;
                position: relative;
                cursor: pointer;
                animation:
                    bounce 1.5s ease-in-out infinite,
                    glow 2s ease-in-out infinite;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 8em;
                margin: 30px auto;
                box-shadow:
                    0 30px 80px rgba(255, 68, 68, 0.6),
                    0 0 40px rgba(255, 215, 0, 0.4);
                transition: all 0.3s ease;
            }

            .epic-gift-box:hover {
                transform: scale(1.15);
                box-shadow:
                    0 40px 100px rgba(255, 215, 0, 0.8),
                    0 0 60px rgba(255, 215, 0, 0.5);
            }

            .epic-gift-box.opened {
                animation:
                    openGift 1s ease-out,
                    glow 2s ease-in-out infinite;
                background: linear-gradient(135deg, #ffd700 0%, #ffa500 100%);
            }

            .epic-content {
                display: none;
                text-align: center;
                animation: zoomIn 1s ease-out;
                max-width: 600px;
            }

            .epic-content.show {
                display: block;
            }

            .final-image {
                width: 400px;
                height: 300px;
                margin: 30px auto;
                background: linear-gradient(135deg, #ff6b6b 0%, #ffd700 100%);
                border: 4px solid #ffd700;
                border-radius: 20px;
                display: flex;
                align-items: center;
                justify-content: center;
                animation: zoomIn 0.8s ease-out;
                box-shadow: 0 20px 60px rgba(255, 215, 0, 0.5);
                object-fit: cover;
                overflow: hidden;
            }

            .final-image img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }

            .final-description {
                font-size: 1.5em;
                color: #ffd700;
                margin: 30px 0;
                font-weight: 800;
                line-height: 1.6;
            }

            .final-text {
                font-size: 1.2em;
                color: rgba(255, 255, 255, 0.9);
                margin-top: 20px;
                line-height: 1.8;
            }

            .upload-section {
                margin-top: 40px;
                padding: 30px;
                background: rgba(255, 255, 255, 0.1);
                border: 2px solid #ffd700;
                border-radius: 15px;
                backdrop-filter: blur(10px);
            }

            .upload-title {
                font-size: 1.5em;
                color: #ffd700;
                margin-bottom: 20px;
                font-weight: 700;
            }

            .upload-input {
                display: none;
            }

            .upload-btn {
                padding: 12px 30px;
                font-size: 1.1em;
                font-weight: 700;
                background: linear-gradient(135deg, #44ff44 0%, #00cc00 100%);
                color: white;
                border: 2px solid #00ff00;
                border-radius: 50px;
                cursor: pointer;
                transition: all 0.3s ease;
                margin: 10px;
            }

            .upload-btn:hover {
                transform: scale(1.08);
                box-shadow: 0 10px 30px rgba(68, 255, 68, 0.4);
            }

            .custom-image {
                width: 300px;
                height: 300px;
                object-fit: cover;
                border-radius: 15px;
                border: 3px solid #ffd700;
                margin-top: 20px;
                animation: zoomIn 0.6s ease-out;
            }

            /* Celebration Screen */
            #celebrationScreen {
                flex-direction: column;
                align-items: center;
                justify-content: center;
                padding: 40px 20px;
                background: linear-gradient(
                    135deg,
                    #1a0a0a 0%,
                    #4d1111 50%,
                    #1f0505 100%
                );
            }

            .celebration-text {
                font-size: 3.5em;
                font-weight: 800;
                background: linear-gradient(
                    135deg,
                    #ffd700 0%,
                    #ffa500 50%,
                    #ff4444 100%
                );
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
                text-align: center;
                margin-bottom: 40px;
                animation: glow 1.5s ease-in-out infinite;
            }

            .celebration-subtext {
                font-size: 2em;
                margin-top: 20px;
                color: rgba(255, 255, 255, 0.9);
            }

            .restart-btn {
                padding: 16px 50px;
                font-size: 1.2em;
                font-weight: 700;
                background: linear-gradient(135deg, #ff4444 0%, #cc0000 100%);
                color: white;
                border: 3px solid #ffd700;
                border-radius: 50px;
                cursor: pointer;
                transition: all 0.3s ease;
                box-shadow: 0 10px 30px rgba(255, 68, 68, 0.4);
                margin-top: 40px;
            }

            .restart-btn:hover {
                transform: scale(1.08);
                box-shadow: 0 15px 40px rgba(255, 215, 0, 0.6);
            }

            /* Failed Screen */
            #failedScreen {
                flex-direction: column;
                align-items: center;
                justify-content: center;
                padding: 40px 20px;
                background: linear-gradient(
                    135deg,
                    #1a0a0a 0%,
                    #4d1111 50%,
                    #1f0505 100%
                );
            }

            .failed-container {
                background: rgba(0, 0, 0, 0.6);
                backdrop-filter: blur(10px);
                border: 3px solid #ff4444;
                border-radius: 20px;
                padding: 50px;
                max-width: 600px;
                text-align: center;
                animation: slideDown 0.6s ease-out;
            }

            .failed-title {
                font-size: 2.5em;
                font-weight: 800;
                color: #ff4444;
                margin-bottom: 20px;
                animation: shake 0.5s ease;
            }

            .failed-subtitle {
                font-size: 1.5em;
                color: #ffd700;
                margin-bottom: 30px;
            }

            .failed-text {
                font-size: 1.2em;
                color: rgba(255, 255, 255, 0.8);
                margin-bottom: 20px;
                line-height: 1.8;
            }

            .failed-rewards {
                background: rgba(255, 215, 0, 0.1);
                border: 2px solid #ffd700;
                border-radius: 15px;
                padding: 20px;
                margin: 20px 0;
            }

            .failed-rewards-title {
                font-size: 1.3em;
                color: #ffd700;
                font-weight: 700;
                margin-bottom: 15px;
            }

            .failed-rewards-list {
                font-size: 1.1em;
                color: rgba(255, 255, 255, 0.9);
                line-height: 2;
            }

            .container {
                position: relative;
                width: 100%;
                min-height: 100vh;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <!-- Intro Screen -->
            <div id="introScreen" class="screen active">
                <div class="logo-container">
                    <div class="logo-text">Noel</div>
                    <div class="logo-subtitle">RED CHRISTMAS CHALLENGE</div>
                    <div class="logo-description">
                        H√†nh tr√¨nh ƒë·∫∑c bi·ªát ch√†o ƒë√≥n m√πa l·ªÖ h·ªôi.<br />
                        Tr·∫£ l·ªùi 10 c√¢u h·ªèi v·ªÅ th·ªÉ thao c·∫ßu l√¥ng,<br />
                        M·ªü kh√°m ph√° nh·ªØng h·ªôp qu√† tuy·ªát v·ªùi!
                    </div>
                </div>
                <button class="start-btn" onclick="startQuiz()">
                    B·∫Øt ƒê·∫ßu Th·ª≠ Th√°ch
                </button>
            </div>

            <!-- Quiz Screen -->
            <div id="quizScreen" class="screen">
                <div class="quiz-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="question-text" id="questionText"></div>
                    <div class="options-container" id="optionsContainer"></div>
                    <div class="quiz-counter" id="quizCounter"></div>
                </div>
            </div>

            <!-- Gift Screen -->
            <div id="giftScreen" class="screen">
                <div class="gift-container">
                    <div class="gift-title">H·ªôp Qu√† May M·∫Øn</div>
                    <div class="gift-box" id="giftBox" onclick="openGift()">
                        üéÅ
                    </div>
                    <div class="gift-content" id="giftContent">
                        <div class="gift-image" id="giftImage"></div>
                        <div
                            class="gift-description"
                            id="giftDescription"
                        ></div>
                        <div class="gift-tagline" id="giftTagline"></div>
                        <button class="next-btn" onclick="nextQuestion()">
                            Ti·∫øp T·ª•c
                        </button>
                    </div>
                </div>
            </div>

            <!-- Warning Screen (c√¢u 6+) -->
            <div id="warningScreen" class="screen">
                <div class="warning-container">
                    <div class="warning-title">C·∫¢NH B√ÅO!</div>
                    <div class="warning-text">
                        T·ª´ c√¢u h·ªèi n√†y tr·ªü ƒëi, nh·ªØng ph·∫ßn th∆∞·ªüng s·∫Ω c√≥ gi√° tr·ªã
                        v√¥ c√πng l·ªõn.
                    </div>
                    <div class="warning-text">
                        N·∫øu b·∫°n tr·∫£ l·ªùi sai, b·∫°n s·∫Ω m·∫•t to√†n b·ªô nh·ªØng ph·∫ßn
                        th∆∞·ªüng ƒë√£ nh·∫≠n tr∆∞·ªõc ƒë√≥!
                    </div>
                    <div class="warning-question">
                        B·∫°n c√≥ d≈©ng c·∫£m ƒë·ªÉ ti·∫øp t·ª•c kh√¥ng?
                    </div>
                    <div class="warning-buttons">
                        <button
                            class="warning-btn btn-continue"
                            onclick="confirmContinue()"
                        >
                            Ti·∫øp ƒêi
                        </button>
                        <button
                            class="warning-btn btn-stop"
                            onclick="showFinalRewardWithWarning()"
                        >
                            D·ª´ng L·∫°i
                        </button>
                    </div>
                </div>
            </div>

            <!-- Final Reward Screen -->
            <div id="finalRewardScreen" class="screen">
                <div class="finale-title">PH·∫¶N TH∆Ø·ªûNG C√ì TRONG M∆†!</div>
                <div class="finale-subtitle">
                    B·∫°n ƒë√£ ho√†n th√†nh! ƒê√¢y l√† qu√† v√¥ c√πng ƒë·∫∑c bi·ªát...
                </div>
                <div
                    class="epic-gift-box"
                    id="epicGiftBox"
                    onclick="openEpicGift()"
                >
                    üéÅ
                </div>
                <div class="epic-content" id="epicContent">
                    <div class="final-image" id="finalImage"></div>
                    <div class="final-description" id="finalDescription"></div>
                    <div class="final-text" id="finalText"></div>
                    <div class="upload-section">
                        <div class="upload-title">
                            Thay Th·∫ø B·∫±ng ·∫¢nh C·ªßa B·∫°n (Tu·ª≥ Ch·ªçn)
                        </div>
                        <input
                            type="file"
                            id="imageUpload"
                            class="upload-input"
                            accept="image/*"
                            onchange="displayCustomImage()"
                        />
                        <button
                            class="upload-btn"
                            onclick="
                                document.getElementById('imageUpload').click()
                            "
                        >
                            Ch·ªçn ·∫¢nh
                        </button>
                        <div id="customImageContainer"></div>
                    </div>
                    <button class="next-btn" onclick="goToCelebration()">
                        Ho√†n Th√†nh
                    </button>
                </div>
            </div>

            <!-- Failed Screen -->
            <div id="failedScreen" class="screen">
                <div class="failed-container">
                    <div class="failed-title">Tr·∫£ L·ªùi Sai!</div>
                    <div class="failed-subtitle">
                        Nh∆∞ng b·∫°n v·∫´n l√† m·ªôt nh√† v√¥ ƒë·ªãch!
                    </div>
                    <div class="failed-text">
                        B·∫°n kh√¥ng th·ªÉ ti·∫øp t·ª•c, nh∆∞ng nh·ªØng ph·∫ßn th∆∞·ªüng b·∫°n ƒë√£
                        nh·∫≠n l√† c·ªßa b·∫°n r·ªìi.
                    </div>
                    <div class="failed-rewards">
                        <div class="failed-rewards-title">
                            C√°c Ph·∫ßn Th∆∞·ªüng C·ªßa B·∫°n:
                        </div>
                        <div
                            class="failed-rewards-list"
                            id="collectedRewards"
                        ></div>
                    </div>
                    <button class="restart-btn" onclick="resetApp()">
                        Ch∆°i L·∫°i
                    </button>
                </div>
            </div>

            <!-- Celebration Screen -->
            <div id="celebrationScreen" class="screen">
                <div class="celebration-text">CH√öC M·ª™NG!</div>
                <div
                    style="
                        font-size: 6em;
                        animation: bounce 1s ease-in-out infinite;
                        margin: 20px;
                    "
                >
                    üéâ
                </div>
                <div
                    class="celebration-text"
                    style="font-size: 2em; margin-top: 20px"
                >
                    B·∫°n l√† nh√† v√¥ ƒë·ªãch th·ª≠ th√°ch!
                </div>
                <button class="restart-btn" onclick="resetApp()">
                    Ch∆°i L·∫°i
                </button>
            </div>
        </div>

        <script>
            const questions = [
                {
                    question:
                        "Chi·ªÅu d√†i ti√™u chu·∫©n c·ªßa s√¢n c·∫ßu l√¥ng l√† bao nhi√™u?",
                    options: ["17m", "20m", "24m", "30m"],
                    correct: 1,
                    image: "https://shopvnb.com/uploads/tin_tuc/qua-cau-long-phu-kien-noi-bat-va-tinh-te-nhat-cua-cau-long-1.jpg",
                    description: "Qu·∫£ C·∫ßu L√¥ng H·∫£i Y·∫øn Si√™u B·ªÅn",
                    tagline: "ƒê·ªô b·∫≠t tuy·ªát v·ªùi, bay xa h∆°n mong ƒë·ª£i",
                },
                {
                    question:
                        "ƒêi·ªÉm ƒë·ªÉ th·∫Øng m·ªôt v√°n c·∫ßu l√¥ng ti√™u chu·∫©n l√† bao nhi√™u?",
                    options: ["15 ƒëi·ªÉm", "19 ƒëi·ªÉm", "21 ƒëi·ªÉm", "25 ƒëi·ªÉm"],
                    correct: 2,
                    image: "https://bizweb.dktcdn.net/100/078/144/products/quan-can-vot-yonex-102-ex-3in1-nhieu-mau-2.jpg?v=1742788206560",
                    description: "Qu·∫•n C√°n Yonex 102EX - 30in1",
                    tagline:
                        "C·∫£m gi√°c c·∫ßm v·ª£t tuy·ªát v·ªùi, ki·ªÉm so√°t t·ª´ng c√∫ ƒë√°nh",
                },
                {
                    question:
                        "Tr·ªçng l∆∞·ª£ng chutle (qu·∫£ c·∫ßu) ti√™u chu·∫©n l√† bao nhi√™u gram?",
                    options: ["3-5g", "4-5g", "6-7g", "8-10g"],
                    correct: 1,
                    image: "https://shopvnb.com/uploads/tin_tuc/qua-cau-long-phu-kien-noi-bat-va-tinh-te-nhat-cua-cau-long-1.jpg",
                    description: "Qu·∫£ C·∫ßu L√¥ng H·∫£i Y·∫øn",
                    tagline: "Qu·∫£ chutle chu·∫©n qu·ªëc t·∫ø, bay ·ªïn ƒë·ªãnh",
                },
                {
                    question: "Nh·ªØng n∆∞·ªõc n√†o tham gia gi·∫£i c·∫ßu l√¥ng Olympic?",
                    options: [
                        "Ch·ªâ 5 n∆∞·ªõc",
                        "Ch·ªâ 10 n∆∞·ªõc",
                        "H∆°n 30 n∆∞·ªõc",
                        "H∆°n 100 n∆∞·ªõc",
                    ],
                    correct: 2,
                    image: "https://cdn.shopvnb.com/uploads/images/thay-gen-vot-cau-long-2.webp",
                    description: "Gen V·ª£t C·∫ßu L√¥ng",
                    tagline: "TƒÉng c∆∞·ªùng ƒë·ªô b·ªÅn v·ª£t, ch∆°i d√†i l√¢u",
                },
                {
                    question:
                        "Chi·ªÅu cao l∆∞·ªõi c·∫ßu l√¥ng ti√™u chu·∫©n ·ªü gi·ªØa s√¢n l√† bao nhi√™u?",
                    options: ["1.55m", "1.67m", "1.73m", "1.80m"],
                    correct: 1,
                    image: "https://shopvnb.com//uploads/san_pham/day-cuoc-cang-vot-yonex-bg-exbolt-65-1.webp",
                    description: "L∆∞·ªõi V·ª£t C·∫ßu L√¥ng Yonex BG EXBOLT 65",
                    tagline:
                        "ƒê·ªô cƒÉng ho√†n h·∫£o, c·∫£m gi√°c ƒë√°nh b√≥ng v√¥ c√πng nh·∫°y",
                },
            ];

            const highValueQuestions = [
                {
                    question: "Ng∆∞·ªùi s√°ng l·∫≠p m√¥n c·∫ßu l√¥ng hi·ªán ƒë·∫°i l√† ai?",
                    options: [
                        "T·ª´ Trung Qu·ªëc",
                        "T·ª´ Anh (Badminton, Gloucestershire)",
                        "T·ª´ ·∫§n ƒê·ªô",
                        "T·ª´ Nh·∫≠t B·∫£n",
                    ],
                    correct: 1,
                    image: "https://cdn.shopvnb.com/uploads/images/bang-tran-cau-long-yonex-75th-ac258ex-do.webp",
                    description: "BƒÉng Tr√°n C·∫ßu L√¥ng Yonex 75th AC258EX - ƒê·ªè",
                    tagline: "Gi√∫p c√¢n b·∫±ng m·ªì h√¥i, focus t·ªëi ƒëa v√†o t·ª´ng ƒëi·ªÉm",
                },
                {
                    question:
                        "Lee Chong Wei l√† huy·ªÅn tho·∫°i c·∫ßu l√¥ng ƒë·∫øn t·ª´ n∆∞·ªõc n√†o?",
                    options: ["Singapore", "Malaysia", "Indonesia", "Th√°i Lan"],
                    correct: 1,
                    image: "https://shopvnb.com//uploads/gallery/bang-co-tay-yonex-mps60-r-chinh-hang.webp",
                    description: "BƒÉng C·ªï Tay Yonex MPS60-R Ch√≠nh H√£ng",
                    tagline: "H·ªó tr·ª£ c·ªï tay, ch∆°i li√™n t·ª•c kh√¥ng m·ªát",
                },
                {
                    question:
                        "N∆∞·ªõc Trung Qu·ªëc gi√†nh ƒë∆∞·ª£c bao nhi√™u huy ch∆∞∆°ng v√†ng c·∫ßu l√¥ng t·∫°i Olympics g·∫ßn nh·∫•t?",
                    options: ["2", "3", "4", "5"],
                    correct: 2,
                    image: "https://lh3.googleusercontent.com/gg-dl/ABS2GSnSkBmbP2-jw-ybYnBSCoo6s-pskFvOvnYhjiCcZ9oBXwtq65yKK-BFm3_1F-mzAYGJccy6ow5ZsgpG6DbTkmvJLmT4nAoTOwNwfWrDf-rYZ6_DNx1htmNO942WuLOBEhecTyEHIvQ_4p5k3tf48XyArSuPey70pBJQjo0gaOph054_QA=s1024-rj",
                    description: "B·ªô Qu·∫ßn √Åo ƒê√°nh C·∫ßu L√¥ng Ch·ªß ƒê·ªÅ Gi√°ng Sinh",
                    tagline: "Tho·∫£i m√°i, t·ª± tin, s·∫µn s√†ng chinh ph·ª•c s√¢n c·ªè",
                },
                {
                    question:
                        "S·ªë ng∆∞·ªùi ch∆°i trong m·ªôt tr·∫≠n ƒë√¥i nam l√† bao nhi√™u?",
                    options: ["2 ng∆∞·ªùi", "3 ng∆∞·ªùi", "4 ng∆∞·ªùi", "6 ng∆∞·ªùi"],
                    correct: 0,
                    image: "https://cdn.shopvnb.com/uploads/gallery/vot-cau-long-victor-tk-ryuga-metallic-chinh-hang_1702259879.webp",
                    description: "V·ª£t C·∫ßu L√¥ng Victor TK-Ryuga Metallic",
                    tagline: "Cho nh·ªØng c√∫ ƒë·∫≠p nh∆∞ b√∫a b·ªï v√†o s√¢n ƒë·ªëi th·ªß",
                },
                {
                    question:
                        "Trong 10 nƒÉm g·∫ßn ƒë√¢y, Vi·ªát Nam c√≥ c·∫ßu th·ªß n√†o v√†o top 50 ranking th·∫ø gi·ªõi?",
                    options: [
                        "Kh√¥ng",
                        "C√≥ 1 ng∆∞·ªùi",
                        "C√≥ 2 ng∆∞·ªùi",
                        "C√≥ 3 ng∆∞·ªùi",
                    ],
                    correct: 1,
                    image: "https://cdn.shopvnb.com/uploads/san_pham/vot-cau-long-yonex-astrox-100zz-kurenai-do-new-2021-5.webp",
                    description: "V·ª£t C·∫ßu L√¥ng Yonex Astrox 100ZZ Kurenai",
                    tagline:
                        "V·ª£t c·ªßa nh·ªØng champion, c√¢n b·∫±ng ho√†n h·∫£o gi·ªØa t·∫•c c√¥ng v√† ph√≤ng th·ªß",
                },
            ];

            let currentQuestion = 0;
            let collectedRewards = [];
            let passedWarning = false;

            function startQuiz() {
                currentQuestion = 0;
                collectedRewards = [];
                passedWarning = false;
                showScreen("quizScreen");
                loadQuestion();
            }

            function loadQuestion() {
                const q = getCurrentQuestion();
                document.getElementById("questionText").textContent =
                    `C√¢u ${currentQuestion + 1}: ${q.question}`;
                document.getElementById("quizCounter").textContent =
                    `${currentQuestion + 1} / 10`;

                const progress = ((currentQuestion + 1) / 10) * 100;
                document.getElementById("progressFill").style.width =
                    progress + "%";

                const optionsContainer =
                    document.getElementById("optionsContainer");
                optionsContainer.innerHTML = "";

                q.options.forEach((option, index) => {
                    const btn = document.createElement("button");
                    btn.className = "option-btn";
                    btn.textContent = option;
                    btn.onclick = () => selectAnswer(index);
                    optionsContainer.appendChild(btn);
                });
            }

            function getCurrentQuestion() {
                if (currentQuestion < 5) {
                    return questions[currentQuestion];
                } else {
                    return highValueQuestions[currentQuestion - 5];
                }
            }

            function selectAnswer(index) {
                const q = getCurrentQuestion();
                const buttons = document.querySelectorAll(".option-btn");

                buttons.forEach((btn) => (btn.disabled = true));

                if (index === q.correct) {
                    buttons[index].classList.add("correct");
                    collectedRewards.push({
                        question: currentQuestion + 1,
                        name: q.description,
                    });
                    setTimeout(() => showGiftScreen(), 1000);
                } else {
                    buttons[index].classList.add("incorrect");
                    setTimeout(() => {
                        showFailed();
                    }, 2000);
                }
            }

            function showGiftScreen() {
                const q = getCurrentQuestion();
                const img = document.getElementById("giftImage");
                img.innerHTML = `<img src="${q.image}" style="width:100%; height:100%; object-fit:cover; border-radius:12px;">`;
                document.getElementById("giftDescription").textContent =
                    q.description;
                document.getElementById("giftTagline").textContent = q.tagline;
                document.getElementById("giftBox").classList.remove("opened");
                document.getElementById("giftContent").classList.remove("show");

                showScreen("giftScreen");
            }

            function openGift() {
                const box = document.getElementById("giftBox");
                const content = document.getElementById("giftContent");

                box.classList.add("opened");
                setTimeout(() => {
                    content.classList.add("show");
                }, 600);
            }

            function nextQuestion() {
                currentQuestion++;
                if (currentQuestion < 5) {
                    loadQuestion();
                    showScreen("quizScreen");
                } else if (currentQuestion === 5 && !passedWarning) {
                    showScreen("warningScreen");
                } else {
                    loadQuestion();
                    showScreen("quizScreen");
                }
            }

            function confirmContinue() {
                passedWarning = true;
                loadQuestion();
                showScreen("quizScreen");
            }

            function showFinalRewardWithWarning() {
                showFinalRewardScreen();
            }

            function showFailed() {
                const list = document.getElementById("collectedRewards");
                if (collectedRewards.length > 0) {
                    list.innerHTML = collectedRewards
                        .map(
                            (r, i) => `<div>C√¢u ${r.question}: ${r.name}</div>`,
                        )
                        .join("");
                } else {
                    list.innerHTML =
                        "<div>B·∫°n ch∆∞a nh·∫≠n ƒë∆∞·ª£c ph·∫ßn th∆∞·ªüng n√†o</div>";
                }
                showScreen("failedScreen");
            }

            function showFinalRewardScreen() {
                const q = highValueQuestions[4];
                const img = document.getElementById("finalImage");
                img.innerHTML = `<img src="${q.image}" style="width:100%; height:100%; object-fit:cover;">`;
                document.getElementById("finalDescription").textContent =
                    q.description;
                document.getElementById("finalText").textContent = q.tagline;
                document
                    .getElementById("epicGiftBox")
                    .classList.remove("opened");
                document.getElementById("epicContent").classList.remove("show");
                document.getElementById("customImageContainer").innerHTML = "";
                showScreen("finalRewardScreen");
            }

            function openEpicGift() {
                const box = document.getElementById("epicGiftBox");
                const content = document.getElementById("epicContent");

                box.classList.add("opened");
                setTimeout(() => {
                    content.classList.add("show");
                }, 800);
            }

            function displayCustomImage() {
                const file = document.getElementById("imageUpload").files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const container = document.getElementById(
                            "customImageContainer",
                        );
                        container.innerHTML = `<img src="${e.target.result}" class="custom-image" alt="Custom Gift">`;
                    };
                    reader.readAsDataURL(file);
                }
            }

            function goToCelebration() {
                showScreen("celebrationScreen");
            }

            function resetApp() {
                currentQuestion = 0;
                collectedRewards = [];
                passedWarning = false;
                showScreen("introScreen");
            }

            function showScreen(screenId) {
                document.querySelectorAll(".screen").forEach((screen) => {
                    screen.classList.remove("active");
                });
                document.getElementById(screenId).classList.add("active");
            }

            function createSnowflakes() {
                const container = document.body;
                const snowflakeCount = 50;

                for (let i = 0; i < snowflakeCount; i++) {
                    const snowflake = document.createElement("div");
                    snowflake.className = "snowflake";
                    snowflake.textContent = "‚ùÑ";
                    snowflake.style.left =
                        Math.random() * window.innerWidth + "px";
                    snowflake.style.animationDuration =
                        Math.random() * 10 + 10 + "s";
                    snowflake.style.animationDelay = Math.random() * 2 + "s";
                    snowflake.style.opacity = Math.random() * 0.5 + 0.3;
                    snowflake.style.fontSize = Math.random() * 20 + 10 + "px";
                    container.appendChild(snowflake);
                }
            }

            createSnowflakes();
        </script>
    </body>
</html>
